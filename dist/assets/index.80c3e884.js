var w=Object.defineProperty;var m=Object.getOwnPropertySymbols;var x=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var g=(e,t,o)=>t in e?w(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,u=(e,t)=>{for(var o in t||(t={}))x.call(t,o)&&g(e,o,t[o]);if(m)for(var o of m(t))R.call(t,o)&&g(e,o,t[o]);return e};import{R as v,d as E}from"./vendor.583ffb1a.js";const L=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};L();function B(e,t){return Object.assign(e.style,t),e}function d(e,t){return t.forEach(o=>e.append(o)),e}function i(e,t,o){const s=document.createElement(e);if(typeof t=="string"?s.textContent=t:o=t,o){const{classes:n,attributes:r,functions:c}=o;if(n){const a=typeof n=="string"?n.split(" "):n;s.classList.add(...a)}r&&Object.keys(r).forEach(a=>{s.setAttribute(a,r[a].toString())}),c&&Object.keys(c).forEach(a=>{s.addEventListener(a,c[a])})}return s}const O=(e={})=>i("button","Download",u({classes:"transition duration-500 border-0 text-lg h-12 w-36 bg-red-500 hover:bg-red-700 text-white mt-2 px-3 rounded-md"},e)),p=(e,t={})=>i("button",e,u({classes:["bg-blue-500","mx-3","max-w-2xl","w-[36%]","my-3","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded"]},t)),S=()=>i("img",{classes:["h-full"]}),F=e=>i("h1",e,{classes:"underline hover:underline decoration-pink-500 text-7xl my-7"});async function k(){return navigator.mediaDevices.getUserMedia({video:!0})}function q(e){const t=e.getBlob(),o=URL.createObjectURL(t);return e.camera.stop(),e.destroy(),[t,o]}const b=document.querySelector("#app");B(b,{display:"flex",flexDirection:"column",alignItems:"center"});const C=F("SerGIF"),f=S();let h,l;const y=p("Stop",{functions:{click(){this.disabled=!0,l.stopRecording(()=>{const[e,t]=q(l);h=e,f.src=t})}}}),T=p("Start",{functions:{async click(){this.disabled=!0;const e=await k();l=new v(e,{type:"gif",frameRate:10,quality:10,width:360,height:240,hidden:440,onGifPreview(t){f.src=t}}),l.startRecording(),l.camera=e,y.disabled=!1}}}),j=O({functions:{click(){E(h,"myGif.gif","image/gif")}}});d(b,[C,d(i("div"),[T,y]),d(i("div",{classes:["w-60","h-60","bg-lime-500"]}),[f]),j,d(i("footer","Made with \u2764\uFE0F  by ",{classes:["text-center","text-gray-500"]}),[i("a","UltiRequiem",{attributes:{href:"https://ultirequiem.com"}})])]);
